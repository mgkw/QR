# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Render.com Ù„ØªØ·Ø¨ÙŠÙ‚ Python Flask Ù…Ø¹ SQLite - Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©
services:
  - type: web
    name: python-qr-scanner-v2
    env: python
    region: oregon
    plan: free
    repo: https://github.com/mgkw/QR.git
    branch: main
    rootDir: ./
    buildCommand: |
      echo "ğŸš€ Ø¨Ø¯Ø¡ Ø¨Ù†Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Python Flask QR Scanner..."
      echo "ğŸ Python version: $(python --version)"
      echo "ğŸ“¦ Upgrading pip..."
      python -m pip install --upgrade pip
      echo "ğŸ“¦ Installing requirements..."
      pip install -r requirements.txt
      echo "ğŸ” Checking installed packages..."
      pip list | grep -E "(Flask|gunicorn|Pillow)"
      echo "âœ… Build complete!"
    startCommand: |
      echo "ğŸš€ Starting Python Flask QR Scanner..."
      echo "ğŸ Python executable: $(which python)"
      echo "ğŸ“ Working directory: $(pwd)"
      echo "ğŸ“‚ Directory contents:"
      ls -la
      echo "ğŸŒ Starting gunicorn server on port $PORT..."
      exec gunicorn --bind 0.0.0.0:$PORT --workers 1 --timeout 120 wsgi:app
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.3
      - key: FLASK_ENV
        value: production
      - key: FLASK_DEBUG
        value: False
      - key: PYTHONUNBUFFERED
        value: 1
      - key: PYTHONDONTWRITEBYTECODE
        value: 1
    healthCheckPath: /api/debug/info
    numInstances: 1
    autoDeploy: true 